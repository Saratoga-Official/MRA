{
    "task": [
        {
            "name": "自动决战",
            "entry": "开始自动决战",
            "default_check": false,
            "description": "./docs/刷决战.md",
            "option": [
                "决战选择关卡",
                "第一关指定开局潜艇",
                "第二关指定开局潜艇",
                "决战打完次数",
                "决战船舱满自动拆船（危险功能）"
            ],
            "pipeline_override": {}
        }
    ],
    "option": {
        "决战选择关卡": {
            "cases": [
                {
                    "name": "E6",
                    "pipeline_override": {}
                },
                {
                    "name": "E5",
                    "pipeline_override": {
                        "识别决战关卡": {
                            "next": [
                                "[JumpBack]重新连接",
                                "识别决战点",
                                "[JumpBack]决战沉默战士E6",
                                "[JumpBack]决战沉默战士E4",
                                "[JumpBack]决战沉默战士E3",
                                "[JumpBack]决战沉默战士E2",
                                "[JumpBack]决战沉默战士E1"
                            ]
                        },
                        "识别决战点": {
                            "expected": "猎火鸡"
                        },
                        "决战沉默战士E6-1": {
                            "template": "决战/E5-1.png",
                            "roi": [
                                404,
                                56,
                                235,
                                243
                            ]
                        },
                        "进入沉默战士决战E6-1": {
                            "template": "决战/E5-1.png",
                            "roi": [
                                404,
                                56,
                                235,
                                243
                            ]
                        },
                        "决战沉默战士E6-23": {
                            "roi": [
                                830,
                                117,
                                283,
                                267
                            ]
                        },
                        "决战沉默战士E6-2": {
                            "roi": [
                                830,
                                117,
                                283,
                                267
                            ]
                        },
                        "决战沉默战士E6-22": {
                            "roi": [
                                830,
                                117,
                                283,
                                267
                            ]
                        },
                        "决战沉默战士E6-3": {
                            "roi": [
                                555,
                                327,
                                266,
                                246
                            ]
                        },
                        "进入沉默战士决战E6-3": {
                            "roi": [
                                555,
                                327,
                                266,
                                246
                            ]
                        }
                    }
                },
                {
                    "name": "E4",
                    "pipeline_override": {
                        "识别决战关卡": {
                            "next": [
                                "[JumpBack]重新连接",
                                "识别决战点",
                                "[JumpBack]决战沉默战士E6",
                                "[JumpBack]决战沉默战士E5上",
                                "[JumpBack]决战沉默战士E3",
                                "[JumpBack]决战沉默战士E2",
                                "[JumpBack]决战沉默战士E1"
                            ]
                        },
                        "识别决战点": {
                            "expected": "反攻"
                        },
                        "决战沉默战士E6-1": {
                            "template": "决战/E4-1.png",
                            "roi": [
                                352,
                                95,
                                234,
                                219
                            ]
                        },
                        "进入沉默战士决战E6-1": {
                            "template": "决战/E4-1.png",
                            "roi": [
                                352,
                                95,
                                234,
                                219
                            ]
                        },
                        "决战沉默战士E6-23": {
                            "template": "决战/E6-1.png",
                            "roi": [
                                636,
                                248,
                                223,
                                230
                            ]
                        },
                        "决战沉默战士E6-2": {
                            "template": "决战/E6-1.png",
                            "roi": [
                                636,
                                248,
                                223,
                                230
                            ]
                        },
                        "决战沉默战士E6-22": {
                            "template": "决战/E6-1.png",
                            "roi": [
                                636,
                                248,
                                223,
                                230
                            ]
                        },
                        "决战沉默战士E6-3": {
                            "template": "决战/E4-3.png",
                            "roi": [
                                867,
                                161,
                                228,
                                238
                            ]
                        },
                        "进入沉默战士决战E6-3": {
                            "template": "决战/E4-3.png",
                            "roi": [
                                867,
                                161,
                                228,
                                238
                            ]
                        }
                    }
                }
            ]
        },
        "第一关指定开局潜艇": {
            "type": "switch",
            "description": "若不指定则使用默认逻辑，开局从下列舰船中招募<br>5-6费：U47 U505 U81 U96 U2540 U1206 U1405 大青花鱼 射水鱼<br>4费：M296 鹦鹉螺 达芬奇 鹰 K21 U441 潜甲 潜乙 伊201 3A<br>确保上述5-6费和4费至少各有1条处在阵容中，否则逻辑会卡死",
            "cases": [
                {
                    "name": "No",
                    "pipeline_override": {
                        "检查开局舰船1": {
                            "expected": [
                                "大青花鱼",
                                "射水鱼",
                                "U-47",
                                "U-505",
                                "U-81",
                                "U-96",
                                "U-2540",
                                "U-1206",
                                "U-1405"
                            ]
                        },
                        "检查开局舰船2": {
                            "expected": [
                                "M-296",
                                "鹦鹉螺",
                                "芬奇",
                                "鹰",
                                "K-21",
                                "潜甲",
                                "潜乙",
                                "U-441",
                                "IIIA",
                                "lllA",
                                "伊-201"
                            ]
                        }
                    }
                },
                {
                    "name": "Yes",
                    "pipeline_override": {},
                    "option": [
                        "第一关潜艇名称"
                    ]
                }
            ]
        },
        "第一关潜艇名称": {
            "type": "input",
            "inputs": [
                {
                    "name": "潜艇名1",
                    "default": "U-47",
                    "pipeline_type": "string",
                    "verify": ".+",
                    "pattern_msg": "不能为空"
                },
                {
                    "name": "潜艇名2",
                    "default": "鹦鹉螺",
                    "pipeline_type": "string",
                    "verify": ".+",
                    "pattern_msg": "不能为空"
                }
            ],
            "pipeline_override": {
                "检查开局舰船1": {
                    "expected": [
                        "{潜艇名1}"
                    ]
                },
                "检查开局舰船2": {
                    "expected": [
                        "{潜艇名2}"
                    ]
                }
            }
        },
        "第二关指定开局潜艇": {
            "type": "switch",
            "cases": [
                {
                    "name": "No",
                    "pipeline_override": {
                        "决战检查舰船BOSS": {
                            "next": [
                                "[JumpBack]重新连接",
                                "决战快速修理BOSS2"
                            ]
                        }
                    }
                },
                {
                    "name": "Yes",
                    "pipeline_override": {},
                    "option": [
                        "第二关潜艇名称"
                    ]
                }
            ]
        },
        "第二关潜艇名称": {
            "type": "input",
            "inputs": [
                {
                    "name": "潜艇名3",
                    "default": "U-1206",
                    "pipeline_type": "string",
                    "verify": ".+",
                    "pattern_msg": "不能为空"
                }
            ],
            "pipeline_override": {
                "决战检查舰船BOSS2": {
                    "expected": [
                        "{潜艇名3}"
                    ]
                },
                "决战寻找特定舰船": {
                    "expected": [
                        "{潜艇名3}"
                    ]
                }
            }
        },
        "决战打完次数": {
            "type": "switch",
            "cases": [
                {
                    "name": "No",
                    "pipeline_override": {},
                    "option": [
                        "决战指定次数"
                    ]
                },
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "决战沉默战士E6完成": {
                            "next": [
                                "[JumpBack]重新连接",
                                "识别决战点"
                            ]
                        }
                    }
                }
            ]
        },
        "决战指定次数": {
            "type": "input",
            "inputs": [
                {
                    "name": "决战指定次数",
                    "default": "1",
                    "pipeline_type": "int",
                    "verify": "^[1-9][0-9]*$",
                    "pattern_msg": "必须为正整数"
                }
            ],
            "pipeline_override": {
                "开始自动决战": {
                    "max_hit": "{决战指定次数}"
                }
            }
        },
        "决战船舱满自动拆船（危险功能）": {
            "type": "switch",
            "cases": [
                {
                    "name": "No",
                    "pipeline_override": {}
                },
                {
                    "name": "Yes",
                    "pipeline_override": {
                        "决战解装": {
                            "next": [
                                "[JumpBack]重新连接",
                                "拆船点击添加"
                            ]
                        },
                        "拆船结束退出": {
                            "next": [
                                "[JumpBack]重新连接",
                                "开始自动决战"
                            ]
                        }
                    }
                }
            ]
        }
    }
}