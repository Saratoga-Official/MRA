{
    "task": [
        {
            "name": "自动决战",
            "entry": "开始自动决战",
            "default_check": false,
            "repeatable": true,
            "doc": [
                "[color:red]①使用前确认副官已开启奇尔沙治[/color]",
                "<br>[color:red]②选船配置中大型船全选6费,中型船有5费选5费，5费不够用4费填满，小型船最好只带一条4费鱼其余全选5-6费鱼[/color]",
                "<br>[color:red]③4费船总数大于3时，需要带一艘2或3费中型船[/color]",
                "<br>[color:red]④如果不符合要求，手动选好后进去点撤退退出来即可开始，之后只要不改配置将一直沿用上次选船配置[/color]",
                "<br>[color:red]⑤第一关开局舰船1和2设置后将按照设置刷第一关开局舰船，如果指定6费鱼刷了很久没出就换成默认或者指定四费鱼，注意不要选同一个船，会出逻辑bug[/color]",
                "<br>[color:red]⑥第二关开局舰船设置后如果第一关没招到该舰船将在第二关开局刷取，中途开始进入关卡除外[/color]",
                "<br>[color:red]⑦决战中将自动使用快速修理，请备好足够的桶[/color]",
                "<br>[color:red]⑧由于决战逻辑过于复杂，尽量不要中途停止任务，否则下次开始任务时可能会卡住，如果需要中途停止最好在等MRA（或者手动操作）打完其中一关boss，领取舰船奖励之后停止，下次开启任务会自动继续打第二关或第三关[/color]"
            ],
            "option": [
                "决战选择关卡",
                "第一关指定开局潜艇",
                "第二关指定开局潜艇",
                "决战打完次数",
                "决战船舱满自动拆船（危险功能）"
            ],
            "pipeline_override": {}
        }
    ],
    "option": {
        "决战选择关卡": {
            "cases": [
                {
                    "name": "E6",
                    "pipeline_override": {}
                },
                {
                    "name": "E5",
                    "pipeline_override": {
                        "识别决战关卡": {
                            "next": [
                                "[JumpBack]重新连接",
                                "识别决战点",
                                "[JumpBack]决战沉默战士E6",
                                "[JumpBack]决战沉默战士E4",
                                "[JumpBack]决战沉默战士E3",
                                "[JumpBack]决战沉默战士E2",
                                "[JumpBack]决战沉默战士E1"
                            ]
                        },
                        "识别决战点": {
                            "expected": "猎火鸡"
                        },
                        "决战沉默战士E6-1": {
                            "template": "决战/E5-1.png",
                            "roi": [
                                404,
                                56,
                                235,
                                243
                            ]
                        },
                        "进入沉默战士决战E6-1": {
                            "template": "决战/E5-1.png",
                            "roi": [
                                404,
                                56,
                                235,
                                243
                            ]
                        },
                        "决战沉默战士E6-23": {
                            "roi": [
                                830,
                                117,
                                283,
                                267
                            ]
                        },
                        "决战沉默战士E6-2": {
                            "roi": [
                                830,
                                117,
                                283,
                                267
                            ]
                        },
                        "决战沉默战士E6-22": {
                            "roi": [
                                830,
                                117,
                                283,
                                267
                            ]
                        },
                        "决战沉默战士E6-3": {
                            "roi": [
                                555,
                                327,
                                266,
                                246
                            ]
                        },
                        "进入沉默战士决战E6-3": {
                            "roi": [
                                555,
                                327,
                                266,
                                246
                            ]
                        }
                    }
                },
                {
                    "name": "E4",
                    "pipeline_override": {
                        "识别决战关卡": {
                            "next": [
                                "[JumpBack]重新连接",
                                "识别决战点",
                                "[JumpBack]决战沉默战士E6",
                                "[JumpBack]决战沉默战士E5上",
                                "[JumpBack]决战沉默战士E3",
                                "[JumpBack]决战沉默战士E2",
                                "[JumpBack]决战沉默战士E1"
                            ]
                        },
                        "识别决战点": {
                            "expected": "反攻"
                        },
                        "决战沉默战士E6-1": {
                            "template": "决战/E4-1.png",
                            "roi": [
                                352,
                                95,
                                234,
                                219
                            ]
                        },
                        "进入沉默战士决战E6-1": {
                            "template": "决战/E4-1.png",
                            "roi": [
                                352,
                                95,
                                234,
                                219
                            ]
                        },
                        "决战沉默战士E6-23": {
                            "template": "决战/E6-1.png",
                            "roi": [
                                636,
                                248,
                                223,
                                230
                            ]
                        },
                        "决战沉默战士E6-2": {
                            "template": "决战/E6-1.png",
                            "roi": [
                                636,
                                248,
                                223,
                                230
                            ]
                        },
                        "决战沉默战士E6-22": {
                            "template": "决战/E6-1.png",
                            "roi": [
                                636,
                                248,
                                223,
                                230
                            ]
                        },
                        "决战沉默战士E6-3": {
                            "template": "决战/E4-3.png",
                            "roi": [
                                867,
                                161,
                                228,
                                238
                            ]
                        },
                        "进入沉默战士决战E6-3": {
                            "template": "决战/E4-3.png",
                            "roi": [
                                867,
                                161,
                                228,
                                238
                            ]
                        }
                    }
                }
            ]
        },
        "第一关指定开局潜艇": {
            "type": "switch",
            "description": "若不指定则使用默认逻辑，开局从下列舰船中招募<br>5-6费：U47 U505 U81 U96 U2540 U1206 U1405 大青花鱼 射水鱼<br>4费：M296 鹦鹉螺 达芬奇 鹰 K21 U441 潜甲 潜乙 伊201 3A<br>确保上述5-6费和4费至少各有1条处在阵容中，否则逻辑会卡死",
            "cases": [
                {
                    "name": "no",
                    "pipeline_override": {
                        "检查开局舰船1": {
                            "expected": [
                                "大青花鱼",
                                "射水鱼",
                                "U-47",
                                "U-505",
                                "U-81",
                                "U-96",
                                "U-2540",
                                "U-1206",
                                "U-1405"
                            ]
                        },
                        "检查开局舰船2": {
                            "expected": [
                                "M-296",
                                "鹦鹉螺",
                                "芬奇",
                                "鹰",
                                "K-21",
                                "潜甲",
                                "潜乙",
                                "U-441",
                                "IIIA",
                                "lllA",
                                "伊-201"
                            ]
                        }
                    }
                },
                {
                    "name": "yes",
                    "pipeline_override": {},
                    "option": [
                        "第一关潜艇名称"
                    ]
                }
            ]
        },
        "第一关潜艇名称": {
            "type": "input",
            "inputs": [
                {
                    "name": "潜艇名1",
                    "default": "U-47",
                    "pipeline_type": "string",
                    "verify": ".+",
                    "pattern_msg": "不能为空"
                },
                {
                    "name": "潜艇名2",
                    "default": "鹦鹉螺",
                    "pipeline_type": "string",
                    "verify": ".+",
                    "pattern_msg": "不能为空"
                }
            ],
            "pipeline_override": {
                "检查开局舰船1": {
                    "expected": [
                        "{潜艇名1}"
                    ]
                },
                "检查开局舰船2": {
                    "expected": [
                        "{潜艇名2}"
                    ]
                }
            }
        },
        "第二关指定开局潜艇": {
            "type": "switch",
            "cases": [
                {
                    "name": "no",
                    "pipeline_override": {
                        "决战检查舰船BOSS": {
                            "next": [
                                "[JumpBack]重新连接",
                                "决战快速修理BOSS2"
                            ]
                        }
                    }
                },
                {
                    "name": "yes",
                    "pipeline_override": {},
                    "option": [
                        "第二关潜艇名称"
                    ]
                }
            ]
        },
        "第二关潜艇名称": {
            "type": "input",
            "inputs": [
                {
                    "name": "潜艇名3",
                    "default": "U-1206",
                    "pipeline_type": "string",
                    "verify": ".+",
                    "pattern_msg": "不能为空"
                }
            ],
            "pipeline_override": {
                "决战检查舰船BOSS2": {
                    "expected": [
                        "{潜艇名3}"
                    ]
                },
                "决战寻找特定舰船": {
                    "expected": [
                        "{潜艇名3}"
                    ]
                }
            }
        },
        "决战打完次数": {
            "type": "select",
            "cases": [
                {
                    "name": "no",
                    "pipeline_override": {}
                },
                {
                    "name": "yes",
                    "pipeline_override": {
                        "决战沉默战士E6完成": {
                            "next": [
                                "[JumpBack]重新连接",
                                "识别决战点"
                            ]
                        }
                    }
                }
            ]
        },
        "决战船舱满自动拆船（危险功能）": {
            "type": "select",
            "cases": [
                {
                    "name": "no",
                    "pipeline_override": {}
                },
                {
                    "name": "yes",
                    "pipeline_override": {
                        "决战解装": {
                            "next": [
                                "[JumpBack]重新连接",
                                "拆船点击添加"
                            ]
                        },
                        "拆船结束退出": {
                            "next": [
                                "[JumpBack]重新连接",
                                "开始自动决战"
                            ]
                        }
                    }
                }
            ]
        }
    }
}